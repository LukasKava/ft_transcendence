<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link rel="icon" type="image/svg+xml" href="/vite.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="index.css">
    	<title>Index</title>
  	</head>
	<body style="margin: 0;">
			<form action="" id="cover">
				<canvas id="computerModel"><script type="module" src="./gameChoicePage.js"></script></canvas>
				<div>
					<div id="beforeStartButton">
						<div id="buttonHolder">
							<label class="radioBoxLabel"><input type="radio" name="gameOption" value="Local" id="localGame" class="gameChoice" onclick="isOptionWithFieldSelected('LOCAL')" checked>Local</label>
							<label class="radioBoxLabel"><input type="radio" name="gameOption" value="Remote" id="remoteGame" class="gameChoice" onclick="isOptionWithFieldSelected('REMOTE')">Remote</label>
							<label class="radioBoxLabel"><input type="radio" name="gameOption" value="Computer" id="" class="gameChoice" onclick="isOptionWithFieldSelected('COMPUTER')">Computer</label>
						</div>
						<div id="localGamePlayerNames">
							<div id="localIdHolder"><input type="text" placeholder="Player1"></div>
							<div id="localIdHolder"><input type="text" placeholder="Player2"></div>
						</div>
						<div id="remoteIdHolder"><input type="text" placeholder="Lobby code"></div>
					</div>
					<button type="submit" class="gamePageButton">START GAME</button>
				</div>
				<script>
					function isOptionWithFieldSelected(gameChoice) {
						let	localField = document.getElementById('localGamePlayerNames');
						let	remoteField = document.getElementById('remoteIdHolder');
						if ("REMOTE" === gameChoice || "LOCAL" === gameChoice) {
							if ("REMOTE" === gameChoice) {
								var	remoteGame = document.getElementById('remoteGame');
								if (remoteGame.checked === true) {
									console.log("remote game has been chosen!");
									remoteField.style.display = "initial";
									localField.style.display = "none";
								}
							} else if ("LOCAL" === gameChoice) {
							var	localGame = document.getElementById('localGame');
							if (localGame.checked === true) {
								console.log("local game has been chosen!");
								localField.style.display = "flex";
								remoteField.style.display = "none";
							}
						}
						} else {
							remoteField.style.display = "none";
							localField.style.display = "none";
						}
					}

					document.getElementById("cover").addEventListener("submit", function(event) {
						event.preventDefault(); // Prevent immediate navigation

						// Simulate processing time or delay, then submit form and redirect
						setTimeout(() => {
							document.getElementById("cover").submit(); // Submit form data
							window.location.href = "game.html";  // Redirect after form submission
						}, 300); // Adjust delay as needed
					});
				</script>
			</form>
		</div>
	</body>
</html>